#!/bin/bash
# LeetCode Daily Problem Setup - Quick Command
# Usage: 
#   ./daily                     # Interactive mode (will prompt for content)
#   ./daily [leetcode_url]      # Interactive mode with URL
#   echo "content" | ./daily    # Smart mode with piped input
#   ./daily "problem content"   # Smart mode with content as argument

# Check if arguments contain problem content first
if [[ "${*}" =~ [0-9]+\. ]] || [ $# -gt 0 ] && [[ "${1}" =~ ^[0-9]+\. ]]; then
    # Smart mode: arguments contain problem content (has number followed by dot)
    python3 "./scripts/daily_smart.py" "$*"
elif [ ! -t 0 ]; then
    # Smart mode: input from pipe
    python3 "./scripts/daily_smart.py"
else
    # No arguments and no pipe input - show instructions for Claude Code
    echo "ğŸš€ LeetCode Daily Problem Setup"
    echo "==============================="
    echo ""
    echo "åœ¨ Claude Code ä¸­ï¼Œè«‹ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼š"
    echo ""
    echo "1. å°‡å®Œæ•´é¡Œç›®å…§å®¹ä½œç‚ºåƒæ•¸ï¼ˆæ¨è–¦ï¼‰ï¼š"
    echo "   ./daily \"2787. Ways to Express an Integer as Sum of Powers"
    echo ""
    echo "Given two positive integers n and x..."
    echo ""
    echo "Example 1:..."
    echo "\""
    echo ""
    echo "2. ä½¿ç”¨ç®¡é“è¼¸å…¥ï¼š"
    echo "   echo \"å®Œæ•´é¡Œç›®å…§å®¹\" | ./daily"
    echo ""
    echo "æ³¨æ„ï¼šè«‹å°‡å®Œæ•´çš„é¡Œç›®å…§å®¹ï¼ˆåŒ…å«é¡Œè™Ÿã€æ¨™é¡Œã€æè¿°ã€ç¯„ä¾‹ï¼‰æ”¾åœ¨å¼•è™Ÿå…§"
fi