# 1277. Count Square Submatrices with All Ones

## Problem Description

Given a m * n matrix of ones and zeros, return how many square submatrices have all ones.

## Examples

### Example 1:
```
Input: matrix =
[
  [0,1,1,1],
  [1,1,1,1],
  [0,1,1,1]
]
Output: 15
```

**Explanation:**
- There are 10 squares of side 1.
- There are 4 squares of side 2.
- There is 1 square of side 3.
- Total number of squares = 10 + 4 + 1 = 15.

### Example 2:
```
Input: matrix = 
[
  [1,0,1],
  [1,1,0],
  [1,1,0]
]
Output: 7
```

**Explanation:**
- There are 6 squares of side 1.
- There is 1 square of side 2.
- Total number of squares = 6 + 1 = 7.

## Constraints

- 1 <= arr.length <= 300
- 1 <= arr[0].length <= 300
- 0 <= arr[i][j] <= 1

## Approach

This is a dynamic programming problem. For each position (i,j) in the matrix, we can calculate the size of the largest square that has its bottom-right corner at that position.

The key insight is that if matrix[i][j] = 1, then the size of the largest square ending at (i,j) is:
```
dp[i][j] = min(dp[i-1][j], dp[i][j-1], dp[i-1][j-1]) + 1
```

The total number of squares is the sum of all dp[i][j] values, since each dp[i][j] represents how many squares of different sizes end at position (i,j).