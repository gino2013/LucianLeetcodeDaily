# 1292. Maximum Side Length of a Square with Sum Less than or Equal to Threshold

## Problem Description

Given a m x n matrix `mat` and an integer `threshold`, return the maximum side-length of a square with a sum less than or equal to threshold or return 0 if there is no such square.

## Examples

### Example 1:
```
Input: mat = [[1,1,3,2,4,3,2],[1,1,3,2,4,3,2],[1,1,3,2,4,3,2]], threshold = 4
Output: 2
```
The maximum side length of square with sum less than 4 is 2.

### Example 2:
```
Input: mat = [[2,2,2,2,2],[2,2,2,2,2],[2,2,2,2,2],[2,2,2,2,2],[2,2,2,2,2]], threshold = 1
Output: 0
```
No square can have a sum less than or equal to 1 since every element is 2.

## Constraints

- m == mat.length
- n == mat[i].length
- 1 <= m, n <= 300
- 0 <= mat[i][j] <= 10^4
- 0 <= threshold <= 10^5

## Approach

### 2D Prefix Sum + Binary Search

**Key Insight:** We can use 2D prefix sums to calculate the sum of any submatrix in O(1) time, then binary search on the side length.

**Step 1: Build Prefix Sum Array**

Create a (m+1) x (n+1) prefix sum array where:
```
prefix[i][j] = sum of all elements from (0,0) to (i-1, j-1)
```

The recurrence relation:
```
prefix[i][j] = mat[i-1][j-1] + prefix[i-1][j] + prefix[i][j-1] - prefix[i-1][j-1]
```

**Step 2: Query Submatrix Sum**

Sum of submatrix from (r1, c1) to (r2, c2):
```
sum = prefix[r2+1][c2+1] - prefix[r1][c2+1] - prefix[r2+1][c1] + prefix[r1][c1]
```

**Step 3: Binary Search on Side Length**

Binary search from 0 to min(m, n). For each candidate side length k, check if any k×k square has sum ≤ threshold.

## Complexity Analysis

- **Time Complexity:** O(m × n × log(min(m, n)))
  - Building prefix sum: O(m × n)
  - Binary search: O(log(min(m, n))) iterations
  - Each iteration checks O(m × n) squares in O(1) each

- **Space Complexity:** O(m × n) for the prefix sum array
